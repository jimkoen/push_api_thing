{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "addSubscription",
  "description": "An object representing the metadata associated with a push subscription",
  "type": "object",
  "properties": {
    "id": {
      "description": "The unique identifier (UUID) of this specific subscription.",
      "type": "string"
    },
    "product": {
      "description": "The product type of the subscription (eg. device name, backup plan, or backup medium such as 'HDD', 'SSD', 'iPhone 12 wih iOS 14', 'Backup with Time Machine').",
      "type" : "string"
    },
    "timestamp": {
      "description": "The specific unix timestamp on which the user is to be reminded of his backup.",
      "type": "integer"
    },
    "subscription" : {
      "endpoint" : {
        "description": "The specific capability url (vendor-endpoint) to which push messages need to be sent in order to reach the user.",
        "type": "string"
      },
      "expirationTime" : {
        "description": "Unknown, but needs to be present.",
        "type": "number"
      },
      "keys" : {
        "description": "The public key of the client. Is used to sign the push notification in order to prove validity to the vendor endpoint.",
        "type": "object",
        "properties": {
          "p256dh" : {
            "type": "string"
          },
          "auth": {
            "type": "string"
          }
        },
        "required": ["p256dh", "auth"]
      }
    }
  },
  "required": ["id", "timestamp", "type", "subscription"]
}
